<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timestamp Discord</title>
<style>
  :root {
    --primary-bg: linear-gradient(145deg, #2b2b3f, #3a3a57);
    --body-bg: linear-gradient(135deg, #1f1f2e, #2a2a3f);
    --button-bg: linear-gradient(90deg, #ff6a88, #ff99ac);
    --button-hover-bg: linear-gradient(90deg, #ff99ac, #ff6a88);
    --toast-bg: linear-gradient(90deg, #22c55e, #4ade80);
    --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  body {
    margin: 0;
    font-family: var(--font-main);
    background: var(--body-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    color: white;
  }

  .container {
    background: var(--primary-bg);
    padding: 2rem;
    border-radius: 1.5rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    width: 100%;
    max-width: 400px;
    text-align: center;
  }

  h1 { margin-bottom: 1rem; }

  button {
    cursor: pointer;
    border: none;
    border-radius: 0.75rem;
    padding: 0.5rem 1rem;
    font-weight: bold;
    background: var(--button-bg);
    color: white;
    transition: all 0.3s;
    margin-top: 1rem;
  }
  button:hover { background: var(--button-hover-bg); transform: translateY(-2px); }

  #result {
    margin-top: 1rem;
    width: 100%;
    padding: 0.5rem;
    border-radius: 0.75rem;
    background: #3b3b55;
    font-family: monospace;
    text-align: center;
  }

  /* --- TOASTS --- */
  #toast-container { position: fixed; bottom: 2rem; right: 2rem; display: flex; flex-direction: column-reverse; gap: 0.5rem; z-index:1000;}
  .toast { position:relative; overflow:hidden; min-width:200px; padding:1rem; border-radius:.75rem; background:var(--toast-bg); opacity:0; transform:translateY(20px); transition:opacity .3s, transform .3s;}
  .toast.show { opacity:1; transform:translateY(0);}
  .toast .progress { position:absolute; bottom:0; left:0; height:4px; background:white; width:100%; transform-origin:right; animation: shrink 5s linear forwards;}
  @keyframes shrink { from {transform:scaleX(1);} to {transform:scaleX(0);} }

  /* --- DATE PICKER STYLE --- */
  .calendar { display:grid; grid-template-columns:repeat(7,1fr); gap:0.25rem; margin-bottom:1rem; }
  .calendar div { padding:.5rem; background:#3b3b55; border-radius:.5rem; cursor:pointer; transition:.2s; }
  .calendar div:hover { background:#5a5ac0; }
  .calendar .selected { background:#ff6a88; }

  .month-nav { display:flex; justify-content:space-between; margin-bottom:0.5rem; }

  /* --- CLOCK STYLE --- */
  .clock {
    position: relative;
    width: 200px; height: 200px;
    margin: 0 auto 1rem;
    border-radius: 50%;
    background:#3b3b55;
  }
  .clock .hand {
    position: absolute;
    width:2px; height:80px; background:white;
    top:50%; left:50%;
    transform-origin:bottom center;
    transform:rotate(0deg) translateY(-50%);
  }
  .clock .center { width:10px; height:10px; background:white; border-radius:50%; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);}
</style>
</head>
<body>

<div class="container">
  <h1>⏱ Discord Timestamp</h1>

  <!-- DATE PICKER -->
  <div class="month-nav">
    <button id="prev-month">&lt;</button>
    <span id="month-year"></span>
    <button id="next-month">&gt;</button>
  </div>
  <div class="calendar" id="calendar"></div>

  <!-- CLOCK PICKER -->
  <div class="clock" id="clock">
    <div class="hand" id="hour-hand"></div>
    <div class="center"></div>
  </div>
  <input type="range" min="0" max="23" id="hour-range" value="12">

  <button onclick="generateTimestamp()">Générer</button>
  <input id="result" type="text" readonly/>
</div>

<div id="toast-container"></div>

<script>
let selectedDate = new Date();
const calendarEl = document.getElementById('calendar');
const monthYearEl = document.getElementById('month-year');
const hourHand = document.getElementById('hour-hand');
const hourRange = document.getElementById('hour-range');

function renderCalendar() {
  calendarEl.innerHTML = '';
  const year = selectedDate.getFullYear();
  const month = selectedDate.getMonth();
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month+1,0).getDate();
  monthYearEl.textContent = selectedDate.toLocaleString('default',{month:'long'}) + ' ' + year;

  for(let i=0;i<firstDay;i++){calendarEl.innerHTML += '<div></div>';}
  for(let d=1; d<=daysInMonth; d++){
    const div = document.createElement('div');
    div.textContent = d;
    if(d===selectedDate.getDate()) div.classList.add('selected');
    div.addEventListener('click',()=>{selectedDate.setDate(d); renderCalendar();});
    calendarEl.appendChild(div);
  }
}

document.getElementById('prev-month').addEventListener('click',()=>{selectedDate.setMonth(selectedDate.getMonth()-1); renderCalendar();});
document.getElementById('next-month').addEventListener('click',()=>{selectedDate.setMonth(selectedDate.getMonth()+1); renderCalendar();});
renderCalendar();

hourRange.addEventListener('input',(e)=>{
  const hour = e.target.value;
  hourHand.style.transform = `rotate(${hour*15}deg) translateY(-50%)`; // simple rotation pour visuel
});

function generateTimestamp(){
  const date = new Date(selectedDate);
  date.setHours(hourRange.value);
  date.setMinutes(0);
  const unix = Math.floor(date.getTime()/1000);
  document.getElementById('result').value = `<t:${unix}:f>`;
  showToast("Timestamp généré !");
}

function showToast(message){
  const container = document.getElementById('toast-container');
  const toast = document.createElement('div');
  toast.className='toast show';
  toast.textContent = message;
  const progress=document.createElement('div'); progress.className='progress'; toast.appendChild(progress);
  container.appendChild(toast);
  setTimeout(()=>{toast.classList.remove('show'); setTimeout(()=>toast.remove(),300);},5000);
}
</script>

</body>
</html>
